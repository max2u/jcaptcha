<?xml version="1.0" encoding="iso-8859-1"?>

<project 
  default="assemble"
  xmlns:j="jelly:core"
  xmlns:maven="jelly:maven"
  xmlns:artifact="artifact"
  xmlns:ant="jelly:ant">
  
  <preGoal name="multiproject:site">
    <maven:reactor 
        basedir="${basedir}"
        includes="**/${pattern}/**/project.xml"
        excludes="project.xml"
        goals="site"
        banner="generating documentation"
        ignoreFailures="false"/>
  </preGoal>
    
  <goal name="assemble">
    <ant:mkdir dir="${maven.repo.local}/jhlabs/jars"/>
    <ant:get src="http://www.jhlabs.com/ip/imaging.jar"
    	dest="${maven.repo.local}/jhlabs/jars/imaging.jar"/>
    <maven:reactor 
        basedir="${basedir}"
        includes="**/${pattern}/**/project.xml"
        excludes="project.xml"
        goals="assemble"
        banner="Building"
        ignoreFailures="false"/>
  </goal>
  
  <postGoal name="site">
    <ant:copy file="${basedir}/images/organization-logo.jpg" todir="${maven.build.dir}/docs/images"/>
    <ant:copy file="${basedir}/images/project-logo.jpg" todir="${maven.build.dir}/docs/images"/>
  </postGoal>
</project>